@model DagoWebPortfolio.Models.ExperiencesViewModel

@{ 

    var skill = Model.Skills.Where(x => x.ID == ViewBag.SkillID).DefaultIfEmpty().Single();
    var isCondOnViewBag = Model.Skills.Count() != 0 && ViewBag.SkillID != null;

}

<p>
    @Html.HiddenFor(model => Model.ID)
    
	@if( skill != null && isCondOnViewBag && ViewBag.SkillID == skill.ID ){
		<input type="hidden" name="listExperiencesOfSkillId" value="@Model.ID" />
	}

    <div class="form-group">
        <div class="control-label col-md-2">
                        
            @if (skill != null && isCondOnViewBag && ViewBag.SkillID == skill.ID)
            {
                <input type="checkbox" name="isExperienceSelected" value="true-@Model.ID" checked/>
             }
             else
             {
                <input type="checkbox" name="isExperienceSelected" value="true-@Model.ID"/>
             }


        </div>          
        <div class="col-md-10">
            @Html.DisplayFor(model => Model.Title, new { htmlAttributes = new { @class = "form-control" } })
        </div>
    </div>
    <div class="form-group">
        <div class="control-label col-md-2">
            @Html.DisplayNameFor(model => Model.Company)
        </div>
        <div class="col-md-10">
            @Html.DisplayFor(model => Model.Company, new { htmlAttributes = new { @class = "form-control" } })
        </div>
    </div>
    <div class="form-group">
        <div class="control-label col-md-2">
            @Html.DisplayNameFor(model => Model.Responsabilities)
        </div>
        <div class="form-control col-md-10">
            @Html.DisplayFor(model => Model.Responsabilities, new { htmlAttributes = new { @class = "form-control" } })
        </div>
    </div>
</p>