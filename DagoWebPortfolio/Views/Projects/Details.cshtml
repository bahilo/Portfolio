@model DagoWebPortfolio.Models.ProjectsViewModel
@using DagoWebPortfolio.Models.CustomHelpers

@{
    Layout = "~/Views/Shared/_LayoutProjectDetails.cshtml";
    ViewBag.Title = Model.Title;
    var count = 0;
}


<div class="projects project-details">
        <div class="row">
            <div class="col-md-11">
                <div class="row">
                    <div class="col-md-12 col-md-offset-2">
                        <div class="title">
                            <h1 class="text">@ViewBag.Title</h1>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-1">
                <a href="javascript:close_winwow();"><i class="glyphicon glyphicon-remove" style="font-size:50px;"></i></a>
            </div>
        </div>

    <div class="divider" id="section[top]"></div>

    <div class="row">
        <div class="col-md-6">
            <p>@Html.DisplayHtml(Model.Resume)
            @Html.DisplayHtml(Model.ProjectDetail.Description)</p>
        </div>
        <div class="col-md-6">
            <div id="myCarousel-project-detail" class="carousel slide">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    @foreach (var picture in Model.ProjectDetail.Pictures)
                    {
                        <li data-target="#myCarousel-project-detail" data-slide-to="@count"></li>
                        count++;
                    }
                </ol>
                <div class="carousel-inner">
                @{count = 0; }
                    @foreach (var picture in Model.ProjectDetail.Pictures)
                    {
                        if (count == 0)
                        {
                            <div class="item active">
                                <img src="@Html.DisplayFor(modelItem => picture.path)@Html.DisplayFor(modelItem => picture.FileName)" class="">
                                <div class="carousel-caption">                                    
                                    <p>@Html.DisplayFor(modelItem => picture.Subject)</p>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="item">
                                <img src="@Html.DisplayFor(modelItem => picture.path)@Html.DisplayFor(modelItem => picture.FileName)" class="">
                                <div class="carousel-caption">
                                    <p>@Html.DisplayFor(modelItem => picture.Subject)</p>
                                </div>
                            </div>
                        }
                        count++;
                    }

                </div><!-- /.carousel-inner -->
                
                <!-- Left and right controls -->
                <a class="left carousel-control" href="#myCarousel-project-detail" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel-project-detail" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>

            </div>

        </div>
    </div>

    </div>
    
<div class="divider"></div>

<script type="text/javascript">

    function close_winwow() {
        window.close();
    }
</script>